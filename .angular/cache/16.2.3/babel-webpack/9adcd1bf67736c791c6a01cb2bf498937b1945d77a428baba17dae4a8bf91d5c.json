{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/marvel.service\";\nimport * as i2 from \"../../components/navbar/navbar.component\";\nexport class ComicsComponent {\n  constructor(marvelService, renderer) {\n    this.marvelService = marvelService;\n    this.renderer = renderer;\n    this.isLoaded = false;\n  }\n  ngOnInit() {\n    this.marvelService.getData('comics?limit=100').subscribe(comics => {\n      this.comics = comics.data.results;\n      this.pages = comics.data.total;\n      this.isLoaded = true;\n    });\n  }\n  pageChange(event) {\n    this.isLoaded = false;\n    const page = event.value;\n    const offset = page > 1 ? page * 100 : 0;\n    this.marvelService.getData(`comics?limit=100&offset=${offset}`).subscribe(comics => {\n      this.comics = comics.data.results;\n      this.currentPage = page;\n      this.isLoaded = true;\n    });\n  }\n  viewDetails(id) {\n    this.marvelService.getData(`comics/${id}?`).subscribe(data => {\n      this.comicsDetails = data.data.results[0];\n      this.showDialog();\n    });\n  }\n  showDialog() {\n    let modal_t = document.getElementById('modal_1');\n    // modal_t?.addEventListener('wheel', this.preventScroll)\n    this.renderer.removeClass(modal_t, 'hhidden');\n    this.renderer.addClass(modal_t, 'sshow');\n  }\n}\n_class = ComicsComponent;\n_class.ɵfac = function ComicsComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MarvelService), i0.ɵɵdirectiveInject(i0.Renderer2));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-comics\"]],\n  decls: 4,\n  vars: 0,\n  consts: [[1, \"comics-page\"]],\n  template: function ComicsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"p\");\n      i0.ɵɵtext(3, \"comics works!\");\n      i0.ɵɵelementEnd()();\n    }\n  },\n  dependencies: [i2.NavbarComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["ComicsComponent","constructor","marvelService","renderer","isLoaded","ngOnInit","getData","subscribe","comics","data","results","pages","total","pageChange","event","page","value","offset","currentPage","viewDetails","id","comicsDetails","showDialog","modal_t","document","getElementById","removeClass","addClass","i0","ɵɵdirectiveInject","i1","MarvelService","Renderer2","selectors","decls","vars","consts","template","ComicsComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["/Users/lyhn/Documents/Proyectos/marvel-comics/src/app/modules/comics/comics.component.ts","/Users/lyhn/Documents/Proyectos/marvel-comics/src/app/modules/comics/comics.component.html"],"sourcesContent":["import { Component, OnInit, Renderer2 } from '@angular/core';\nimport { MarvelService } from 'src/app/services/marvel.service';\n\n@Component({\n  selector: 'app-comics',\n  templateUrl: './comics.component.html',\n  styleUrls: ['./comics.component.sass']\n})\nexport class ComicsComponent implements OnInit{\n  comics: any;\n  public pages!: number;\n  public currentPage!: number;\n  public isLoaded: Boolean = false\n  public comicsDetails: any;\n\n  constructor(\n    private marvelService: MarvelService,\n    private renderer: Renderer2\n  ) {}\n\n  ngOnInit() {\n    this.marvelService.getData('comics?limit=100').subscribe((comics) => {\n      this.comics = comics.data.results;\n      this.pages= comics.data.total\n      this.isLoaded= true\n    });\n  }\n\n  pageChange (event: any) {\n    this.isLoaded= false\n    const page = event.value\n    const offset = page > 1 ? (page*100) : 0\n    this.marvelService.getData(`comics?limit=100&offset=${offset}`).subscribe((comics) => {\n      this.comics = comics.data.results;\n      this.currentPage = page\n      this.isLoaded= true\n    });\n  }\n\n  viewDetails (id: any) {\n    this.marvelService.getData(`comics/${id}?`).subscribe((data) => {\n     this.comicsDetails = data.data.results[0];\n     this.showDialog()\n    });\n  }\n\n  showDialog(){\n    let modal_t = document.getElementById('modal_1')\n    // modal_t?.addEventListener('wheel', this.preventScroll)\n    this.renderer.removeClass(modal_t, 'hhidden');\n    this.renderer.addClass(modal_t,'sshow');\n  }\n}\n","<app-navbar></app-navbar>\n<div class=\"comics-page\">\n  <p>comics works!</p>\n</div>"],"mappings":";;;;AAQA,OAAM,MAAOA,eAAe;EAO1BC,YACUC,aAA4B,EAC5BC,QAAmB;IADnB,KAAAD,aAAa,GAAbA,aAAa;IACb,KAAAC,QAAQ,GAARA,QAAQ;IALX,KAAAC,QAAQ,GAAY,KAAK;EAM7B;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACH,aAAa,CAACI,OAAO,CAAC,kBAAkB,CAAC,CAACC,SAAS,CAAEC,MAAM,IAAI;MAClE,IAAI,CAACA,MAAM,GAAGA,MAAM,CAACC,IAAI,CAACC,OAAO;MACjC,IAAI,CAACC,KAAK,GAAEH,MAAM,CAACC,IAAI,CAACG,KAAK;MAC7B,IAAI,CAACR,QAAQ,GAAE,IAAI;IACrB,CAAC,CAAC;EACJ;EAEAS,UAAUA,CAAEC,KAAU;IACpB,IAAI,CAACV,QAAQ,GAAE,KAAK;IACpB,MAAMW,IAAI,GAAGD,KAAK,CAACE,KAAK;IACxB,MAAMC,MAAM,GAAGF,IAAI,GAAG,CAAC,GAAIA,IAAI,GAAC,GAAG,GAAI,CAAC;IACxC,IAAI,CAACb,aAAa,CAACI,OAAO,CAAC,2BAA2BW,MAAM,EAAE,CAAC,CAACV,SAAS,CAAEC,MAAM,IAAI;MACnF,IAAI,CAACA,MAAM,GAAGA,MAAM,CAACC,IAAI,CAACC,OAAO;MACjC,IAAI,CAACQ,WAAW,GAAGH,IAAI;MACvB,IAAI,CAACX,QAAQ,GAAE,IAAI;IACrB,CAAC,CAAC;EACJ;EAEAe,WAAWA,CAAEC,EAAO;IAClB,IAAI,CAAClB,aAAa,CAACI,OAAO,CAAC,UAAUc,EAAE,GAAG,CAAC,CAACb,SAAS,CAAEE,IAAI,IAAI;MAC9D,IAAI,CAACY,aAAa,GAAGZ,IAAI,CAACA,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC;MACzC,IAAI,CAACY,UAAU,EAAE;IAClB,CAAC,CAAC;EACJ;EAEAA,UAAUA,CAAA;IACR,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IAChD;IACA,IAAI,CAACtB,QAAQ,CAACuB,WAAW,CAACH,OAAO,EAAE,SAAS,CAAC;IAC7C,IAAI,CAACpB,QAAQ,CAACwB,QAAQ,CAACJ,OAAO,EAAC,OAAO,CAAC;EACzC;;SA3CWvB,eAAe;;mBAAfA,MAAe,EAAA4B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,aAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAI,SAAA;AAAA;;QAAfhC,MAAe;EAAAiC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCR5BX,EAAA,CAAAa,SAAA,iBAAyB;MACzBb,EAAA,CAAAc,cAAA,aAAyB;MACpBd,EAAA,CAAAe,MAAA,oBAAa;MAAAf,EAAA,CAAAgB,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}